import{p as Be,j as u,q as xe,s as Vt,t as ze,v as Xe,w as Se,x as Je,y as vt,z as Ut,D as ke,E as bt,H as Qe,I as Ye,J as dt,r as L,K as qt,N as Gt,n as jt,O as wt,P as he,Q as Ct,T as Ht,U as Ae,V as Kt,X as Ve,Y as G,Z as ve,_ as Xt,B as ft,$ as Jt,A as Qt,a0 as Yt,u as Zt,k as Wt,a1 as mt}from"./index-BwPW9mmE.js";import{B as en}from"./BasketButton-CKrIXzCL.js";/* empty css                         */function tn(e,t){return e in t?Be(t[e]):Be(e)}function nn(e,t){const n=e.map(o=>({value:o,px:tn(o,t)}));return n.sort((o,i)=>o.px-i.px),n}function Me(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function Nt(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function qe({style:e,size:t=16,...n}){return u.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:xe(t),height:xe(t),display:"block"},...n,children:u.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}qe.displayName="@mantine/core/AccordionChevron";var It={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const sn={},on=Je((e,{radius:t,color:n,gradient:o,variant:i,size:r,autoContrast:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:o,variant:i||"filled",autoContrast:s});return{root:{"--badge-height":ke(r,"badge-height"),"--badge-padding-x":ke(r,"badge-padding-x"),"--badge-fz":ke(r,"badge-fz"),"--badge-radius":t===void 0?void 0:Ut(t),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?vt(n,e):void 0}}}),De=Vt((e,t)=>{const n=ze("Badge",sn,e),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:c,radius:l,color:h,gradient:m,leftSection:g,rightSection:S,children:f,variant:p,fullWidth:y,autoContrast:d,circle:x,mod:v,...j}=n,I=Xe({name:"Badge",props:n,classes:It,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:c,varsResolver:on});return u.jsxs(Se,{variant:p,mod:[{block:y,circle:x,"with-right-section":!!S,"with-left-section":!!g},v],...I("root",{variant:p}),ref:t,...j,children:[g&&u.jsx("span",{...I("section"),"data-position":"left",children:g}),u.jsx("span",{...I("label"),children:f}),S&&u.jsx("span",{...I("section"),"data-position":"right",children:S})]})});De.classes=It;De.displayName="@mantine/core/Badge";const[rn,Et]=bt("Rating was not found in tree");function Lt(e){const{width:t,height:n,style:o,...i}=e;return u.jsx("svg",{viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:t,height:n,...o},...i,children:u.jsx("path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"})})}Lt.displayName="@mantine/core/StarIcon";function Ge({type:e}){const t=Et();return u.jsx(Lt,{...t.getStyles("starSymbol"),"data-filled":e==="full"||void 0})}Ge.displayName="@mantine/core/StarSymbol";function Tt({getSymbolLabel:e,emptyIcon:t,fullIcon:n,full:o,active:i,value:r,readOnly:s,fractionValue:a,color:c,id:l,onBlur:h,onChange:m,onInputChange:g,style:S,...f}){var v;const p=Et(),y=typeof n=="function"?n(r):n,d=typeof t=="function"?t(r):t,{dir:x}=Qe();return u.jsxs(u.Fragment,{children:[!s&&u.jsx("input",{...p.getStyles("input"),onKeyDown:j=>j.key===" "&&m(r),id:l,type:"radio","data-active":i||void 0,"aria-label":e==null?void 0:e(r),value:r,onBlur:h,onChange:g,...f}),u.jsx(Se,{component:s?"div":"label",...p.getStyles("label"),"data-read-only":s||void 0,htmlFor:l,onClick:()=>m(r),__vars:{"--rating-item-z-index":(v=a===1?void 0:i?2:0)==null?void 0:v.toString()},children:u.jsx(Se,{...p.getStyles("symbolBody"),__vars:{"--rating-symbol-clip-path":a===1?void 0:x==="ltr"?`inset(0 ${i?100-a*100:100}% 0 0)`:`inset(0 0 0 ${i?100-a*100:100}% )`},children:o?y||u.jsx(Ge,{type:"full"}):d||u.jsx(Ge,{type:"empty"})})})]})}Tt.displayName="@mantine/core/RatingItem";var kt={root:"m_f8d312f2",symbolGroup:"m_61734bb7",starSymbol:"m_5662a89a",input:"m_211007ba",label:"m_21342ee4",symbolBody:"m_fae05d6a"};function Ue(e,t){var i;const n=Math.round(e/t)*t,o=((i=`${t}`.split(".")[1])==null?void 0:i.length)||0;return Number(n.toFixed(o))}const cn={size:"sm",getSymbolLabel:e=>`${e}`,count:5,fractions:1,color:"yellow"},an=Je((e,{size:t,color:n})=>({root:{"--rating-size":ke(t,"rating-size"),"--rating-color":vt(n,e)}})),Oe=Ye((e,t)=>{const n=ze("Rating",cn,e),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:c,name:l,id:h,value:m,defaultValue:g,onChange:S,fractions:f,count:p,onMouseEnter:y,readOnly:d,onMouseMove:x,onHover:v,onMouseLeave:j,onTouchStart:I,onTouchEnd:E,size:C,variant:N,getSymbolLabel:k,color:z,emptySymbol:A,fullSymbol:U,highlightSelectedOnly:Y,...Z}=n,H=Xe({name:"Rating",classes:kt,props:n,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:c,varsResolver:an}),{dir:ae}=Qe(),oe=dt(l),J=dt(h),Q=L.useRef(null),[fe,K]=qt({value:m,defaultValue:g,finalValue:0,onChange:S}),[W,ee]=L.useState(-1),[te,ue]=L.useState(!0),$=Math.floor(f),F=Math.floor(p),O=1/$,ne=Ue(fe,O),w=W!==-1?W:ne,B=T=>{const{left:V,right:D,width:X}=Q.current.getBoundingClientRect(),me=X/F,pe=(ae==="rtl"?D-T:T-V)/me;return Nt(Ue(pe+O/2,O),O,F)},b=T=>{y==null||y(T),!d&&ue(!1)},M=T=>{if(x==null||x(T),d)return;const V=B(T.clientX);ee(V),V!==W&&(v==null||v(V))},_=T=>{j==null||j(T),!d&&(ee(-1),ue(!0),W!==-1&&(v==null||v(-1)))},P=T=>{const{touches:V}=T;if(V.length===1){if(!d){const D=V[0];K(B(D.clientX))}I==null||I(T)}},q=T=>{T.preventDefault(),E==null||E(T)},se=()=>te&&ee(-1),re=T=>{d||ee(typeof T=="number"?T:parseFloat(T.target.value))},ie=T=>{d||K(typeof T=="number"?T:parseFloat(T.target.value))},ce=Array(F).fill(0).map((T,V)=>{const D=V+1,X=Array.from(new Array(V===0?$+1:$)),me=!d&&Math.ceil(W)===D;return u.jsx("div",{"data-active":me||void 0,...H("symbolGroup"),children:X.map((Fe,pe)=>{const Le=O*(V===0?pe:pe+1),de=Ue(D-1+Le,O);return u.jsx(Tt,{getSymbolLabel:k,emptyIcon:A,fullIcon:U,full:Y?de===w:de<=w,active:de===w,checked:de===ne,readOnly:d,fractionValue:Le,value:de,name:oe,onChange:ie,onBlur:se,onInputChange:re,id:`${J}-${V}-${pe}`},`${D}-${de}`)})},D)});return u.jsx(rn,{value:{getStyles:H},children:u.jsx(Se,{ref:Gt(Q,t),...H("root"),onMouseMove:M,onMouseEnter:b,onMouseLeave:_,onTouchStart:P,onTouchEnd:q,variant:N,size:C,id:J,...Z,children:ce})})});Oe.classes=kt;Oe.displayName="@mantine/core/Rating";/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ln=jt("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var un=jt("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]);function dn(e){return Object.prototype.toString.call(e)==="[object Object]"}function pt(e){return dn(e)||Array.isArray(e)}function fn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Ze(e,t){const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;const i=JSON.stringify(Object.keys(e.breakpoints||{})),r=JSON.stringify(Object.keys(t.breakpoints||{}));return i!==r?!1:n.every(s=>{const a=e[s],c=t[s];return typeof a=="function"?`${a}`==`${c}`:!pt(a)||!pt(c)?a===c:Ze(a,c)})}function ht(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function mn(e,t){if(e.length!==t.length)return!1;const n=ht(e),o=ht(t);return n.every((i,r)=>{const s=o[r];return Ze(i,s)})}function We(e){return typeof e=="number"}function He(e){return typeof e=="string"}function Re(e){return typeof e=="boolean"}function gt(e){return Object.prototype.toString.call(e)==="[object Object]"}function R(e){return Math.abs(e)}function et(e){return Math.sign(e)}function je(e,t){return R(e-t)}function pn(e,t){if(e===0||t===0||R(e)<=R(t))return 0;const n=je(R(e),R(t));return R(n/e)}function hn(e){return Math.round(e*100)/100}function we(e){return Ce(e).map(Number)}function le(e){return e[Ee(e)]}function Ee(e){return Math.max(0,e.length-1)}function tt(e,t){return t===Ee(e)}function yt(e,t=0){return Array.from(Array(e),(n,o)=>t+o)}function Ce(e){return Object.keys(e)}function At(e,t){return[e,t].reduce((n,o)=>(Ce(o).forEach(i=>{const r=n[i],s=o[i],a=gt(r)&&gt(s);n[i]=a?At(r,s):s}),n),{})}function Ke(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function gn(e,t){const n={start:o,center:i,end:r};function o(){return 0}function i(c){return r(c)/2}function r(c){return t-c}function s(c,l){return He(e)?n[e](c):e(t,c,l)}return{measure:s}}function Ne(){let e=[];function t(i,r,s,a={passive:!0}){let c;if("addEventListener"in i)i.addEventListener(r,s,a),c=()=>i.removeEventListener(r,s,a);else{const l=i;l.addListener(s),c=()=>l.removeListener(s)}return e.push(c),o}function n(){e=e.filter(i=>i())}const o={add:t,clear:n};return o}function yn(e,t,n,o){const i=Ne(),r=1e3/60;let s=null,a=0,c=0;function l(){i.add(e,"visibilitychange",()=>{e.hidden&&f()})}function h(){S(),i.clear()}function m(y){if(!c)return;s||(s=y,n(),n());const d=y-s;for(s=y,a+=d;a>=r;)n(),a-=r;const x=a/r;o(x),c&&(c=t.requestAnimationFrame(m))}function g(){c||(c=t.requestAnimationFrame(m))}function S(){t.cancelAnimationFrame(c),s=null,a=0,c=0}function f(){s=null,a=0}return{init:l,destroy:h,start:g,stop:S,update:n,render:o}}function xn(e,t){const n=t==="rtl",o=e==="y",i=o?"y":"x",r=o?"x":"y",s=!o&&n?-1:1,a=h(),c=m();function l(f){const{height:p,width:y}=f;return o?p:y}function h(){return o?"top":n?"right":"left"}function m(){return o?"bottom":n?"left":"right"}function g(f){return f*s}return{scroll:i,cross:r,startEdge:a,endEdge:c,measureSize:l,direction:g}}function ge(e=0,t=0){const n=R(e-t);function o(l){return l<e}function i(l){return l>t}function r(l){return o(l)||i(l)}function s(l){return r(l)?o(l)?e:t:l}function a(l){return n?l-n*Math.ceil((l-t)/n):l}return{length:n,max:t,min:e,constrain:s,reachedAny:r,reachedMax:i,reachedMin:o,removeOffset:a}}function Bt(e,t,n){const{constrain:o}=ge(0,e),i=e+1;let r=s(t);function s(g){return n?R((i+g)%i):o(g)}function a(){return r}function c(g){return r=s(g),m}function l(g){return h().set(a()+g)}function h(){return Bt(e,a(),n)}const m={get:a,set:c,add:l,clone:h};return m}function Sn(e,t,n,o,i,r,s,a,c,l,h,m,g,S,f,p,y,d,x){const{cross:v,direction:j}=e,I=["INPUT","SELECT","TEXTAREA"],E={passive:!1},C=Ne(),N=Ne(),k=ge(50,225).constrain(S.measure(20)),z={mouse:300,touch:400},A={mouse:500,touch:600},U=f?43:25;let Y=!1,Z=0,H=0,ae=!1,oe=!1,J=!1,Q=!1;function fe(b){if(!x)return;function M(P){(Re(x)||x(b,P))&&$(P)}const _=t;C.add(_,"dragstart",P=>P.preventDefault(),E).add(_,"touchmove",()=>{},E).add(_,"touchend",()=>{}).add(_,"touchstart",M).add(_,"mousedown",M).add(_,"touchcancel",O).add(_,"contextmenu",O).add(_,"click",ne,!0)}function K(){C.clear(),N.clear()}function W(){const b=Q?n:t;N.add(b,"touchmove",F,E).add(b,"touchend",O).add(b,"mousemove",F,E).add(b,"mouseup",O)}function ee(b){const M=b.nodeName||"";return I.includes(M)}function te(){return(f?A:z)[Q?"mouse":"touch"]}function ue(b,M){const _=m.add(et(b)*-1),P=h.byDistance(b,!f).distance;return f||R(b)<k?P:y&&M?P*.5:h.byIndex(_.get(),0).distance}function $(b){const M=Ke(b,o);Q=M,J=f&&M&&!b.buttons&&Y,Y=je(i.get(),s.get())>=2,!(M&&b.button!==0)&&(ee(b.target)||(ae=!0,r.pointerDown(b),l.useFriction(0).useDuration(0),i.set(s),W(),Z=r.readPoint(b),H=r.readPoint(b,v),g.emit("pointerDown")))}function F(b){if(!Ke(b,o)&&b.touches.length>=2)return O(b);const _=r.readPoint(b),P=r.readPoint(b,v),q=je(_,Z),se=je(P,H);if(!oe&&!Q&&(!b.cancelable||(oe=q>se,!oe)))return O(b);const re=r.pointerMove(b);q>p&&(J=!0),l.useFriction(.3).useDuration(.75),a.start(),i.add(j(re)),b.preventDefault()}function O(b){const _=h.byDistance(0,!1).index!==m.get(),P=r.pointerUp(b)*te(),q=ue(j(P),_),se=pn(P,q),re=U-10*se,ie=d+se/50;oe=!1,ae=!1,N.clear(),l.useDuration(re).useFriction(ie),c.distance(q,!f),Q=!1,g.emit("pointerUp")}function ne(b){J&&(b.stopPropagation(),b.preventDefault(),J=!1)}function w(){return ae}return{init:fe,destroy:K,pointerDown:w}}function vn(e,t){let o,i;function r(m){return m.timeStamp}function s(m,g){const f=`client${(g||e.scroll)==="x"?"X":"Y"}`;return(Ke(m,t)?m:m.touches[0])[f]}function a(m){return o=m,i=m,s(m)}function c(m){const g=s(m)-s(i),S=r(m)-r(o)>170;return i=m,S&&(o=m),g}function l(m){if(!o||!i)return 0;const g=s(i)-s(o),S=r(m)-r(o),f=r(m)-r(i)>170,p=g/S;return S&&!f&&R(p)>.1?p:0}return{pointerDown:a,pointerMove:c,pointerUp:l,readPoint:s}}function bn(){function e(n){const{offsetTop:o,offsetLeft:i,offsetWidth:r,offsetHeight:s}=n;return{top:o,right:i+r,bottom:o+s,left:i,width:r,height:s}}return{measure:e}}function jn(e){function t(o){return e*(o/100)}return{measure:t}}function wn(e,t,n,o,i,r,s){const a=[e].concat(o);let c,l,h=[],m=!1;function g(y){return i.measureSize(s.measure(y))}function S(y){if(!r)return;l=g(e),h=o.map(g);function d(x){for(const v of x){if(m)return;const j=v.target===e,I=o.indexOf(v.target),E=j?l:h[I],C=g(j?e:o[I]);if(R(C-E)>=.5){y.reInit(),t.emit("resize");break}}}c=new ResizeObserver(x=>{(Re(r)||r(y,x))&&d(x)}),n.requestAnimationFrame(()=>{a.forEach(x=>c.observe(x))})}function f(){m=!0,c&&c.disconnect()}return{init:S,destroy:f}}function Cn(e,t,n,o,i,r){let s=0,a=0,c=i,l=r,h=e.get(),m=0;function g(){const E=o.get()-e.get(),C=!c;let N=0;return C?(s=0,n.set(o),e.set(o),N=E):(n.set(e),s+=E/c,s*=l,h+=s,e.add(s),N=h-m),a=et(N),m=h,I}function S(){const E=o.get()-t.get();return R(E)<.001}function f(){return c}function p(){return a}function y(){return s}function d(){return v(i)}function x(){return j(r)}function v(E){return c=E,I}function j(E){return l=E,I}const I={direction:p,duration:f,velocity:y,seek:g,settled:S,useBaseFriction:x,useBaseDuration:d,useFriction:j,useDuration:v};return I}function Nn(e,t,n,o,i){const r=i.measure(10),s=i.measure(50),a=ge(.1,.99);let c=!1;function l(){return!(c||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function h(S){if(!l())return;const f=e.reachedMin(t.get())?"min":"max",p=R(e[f]-t.get()),y=n.get()-t.get(),d=a.constrain(p/s);n.subtract(y*d),!S&&R(y)<r&&(n.set(e.constrain(n.get())),o.useDuration(25).useBaseFriction())}function m(S){c=!S}return{shouldConstrain:l,constrain:h,toggleActive:m}}function In(e,t,n,o,i){const r=ge(-t+e,0),s=m(),a=h(),c=g();function l(f,p){return je(f,p)<=1}function h(){const f=s[0],p=le(s),y=s.lastIndexOf(f),d=s.indexOf(p)+1;return ge(y,d)}function m(){return n.map((f,p)=>{const{min:y,max:d}=r,x=r.constrain(f),v=!p,j=tt(n,p);return v?d:j||l(y,x)?y:l(d,x)?d:x}).map(f=>parseFloat(f.toFixed(3)))}function g(){if(t<=e+i)return[r.max];if(o==="keepSnaps")return s;const{min:f,max:p}=a;return s.slice(f,p)}return{snapsContained:c,scrollContainLimit:a}}function En(e,t,n){const o=t[0],i=n?o-e:le(t);return{limit:ge(i,o)}}function Ln(e,t,n,o){const r=t.min+.1,s=t.max+.1,{reachedMin:a,reachedMax:c}=ge(r,s);function l(g){return g===1?c(n.get()):g===-1?a(n.get()):!1}function h(g){if(!l(g))return;const S=e*(g*-1);o.forEach(f=>f.add(S))}return{loop:h}}function Tn(e){const{max:t,length:n}=e;function o(r){const s=r-t;return n?s/-n:0}return{get:o}}function kn(e,t,n,o,i){const{startEdge:r,endEdge:s}=e,{groupSlides:a}=i,c=m().map(t.measure),l=g(),h=S();function m(){return a(o).map(p=>le(p)[s]-p[0][r]).map(R)}function g(){return o.map(p=>n[r]-p[r]).map(p=>-R(p))}function S(){return a(l).map(p=>p[0]).map((p,y)=>p+c[y])}return{snaps:l,snapsAligned:h}}function An(e,t,n,o,i,r){const{groupSlides:s}=i,{min:a,max:c}=o,l=h();function h(){const g=s(r),S=!e||t==="keepSnaps";return n.length===1?[r]:S?g:g.slice(a,c).map((f,p,y)=>{const d=!p,x=tt(y,p);if(d){const v=le(y[0])+1;return yt(v)}if(x){const v=Ee(r)-le(y)[0]+1;return yt(v,le(y)[0])}return f})}return{slideRegistry:l}}function Bn(e,t,n,o,i){const{reachedAny:r,removeOffset:s,constrain:a}=o;function c(f){return f.concat().sort((p,y)=>R(p)-R(y))[0]}function l(f){const p=e?s(f):a(f),y=t.map((x,v)=>({diff:h(x-p,0),index:v})).sort((x,v)=>R(x.diff)-R(v.diff)),{index:d}=y[0];return{index:d,distance:p}}function h(f,p){const y=[f,f+n,f-n];if(!e)return f;if(!p)return c(y);const d=y.filter(x=>et(x)===p);return d.length?c(d):le(y)-n}function m(f,p){const y=t[f]-i.get(),d=h(y,p);return{index:f,distance:d}}function g(f,p){const y=i.get()+f,{index:d,distance:x}=l(y),v=!e&&r(y);if(!p||v)return{index:d,distance:f};const j=t[d]-x,I=f+h(j,0);return{index:d,distance:I}}return{byDistance:g,byIndex:m,shortcut:h}}function Mn(e,t,n,o,i,r,s){function a(m){const g=m.distance,S=m.index!==t.get();r.add(g),g&&(o.duration()?e.start():(e.update(),e.render(1),e.update())),S&&(n.set(t.get()),t.set(m.index),s.emit("select"))}function c(m,g){const S=i.byDistance(m,g);a(S)}function l(m,g){const S=t.clone().set(m),f=i.byIndex(S.get(),g);a(f)}return{distance:c,index:l}}function Dn(e,t,n,o,i,r,s,a){const c={passive:!0,capture:!0};let l=0;function h(S){if(!a)return;function f(p){if(new Date().getTime()-l>10)return;s.emit("slideFocusStart"),e.scrollLeft=0;const x=n.findIndex(v=>v.includes(p));We(x)&&(i.useDuration(0),o.index(x,0),s.emit("slideFocus"))}r.add(document,"keydown",m,!1),t.forEach((p,y)=>{r.add(p,"focus",d=>{(Re(a)||a(S,d))&&f(y)},c)})}function m(S){S.code==="Tab"&&(l=new Date().getTime())}return{init:h}}function be(e){let t=e;function n(){return t}function o(c){t=s(c)}function i(c){t+=s(c)}function r(c){t-=s(c)}function s(c){return We(c)?c:c.get()}return{get:n,set:o,add:i,subtract:r}}function Mt(e,t){const n=e.scroll==="x"?s:a,o=t.style;let i=null,r=!1;function s(g){return`translate3d(${g}px,0px,0px)`}function a(g){return`translate3d(0px,${g}px,0px)`}function c(g){if(r)return;const S=hn(e.direction(g));S!==i&&(o.transform=n(S),i=S)}function l(g){r=!g}function h(){r||(o.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:h,to:c,toggleActive:l}}function On(e,t,n,o,i,r,s,a,c){const h=we(i),m=we(i).reverse(),g=d().concat(x());function S(C,N){return C.reduce((k,z)=>k-i[z],N)}function f(C,N){return C.reduce((k,z)=>S(k,N)>0?k.concat([z]):k,[])}function p(C){return r.map((N,k)=>({start:N-o[k]+.5+C,end:N+t-.5+C}))}function y(C,N,k){const z=p(N);return C.map(A=>{const U=k?0:-n,Y=k?n:0,Z=k?"end":"start",H=z[A][Z];return{index:A,loopPoint:H,slideLocation:be(-1),translate:Mt(e,c[A]),target:()=>a.get()>H?U:Y}})}function d(){const C=s[0],N=f(m,C);return y(N,n,!1)}function x(){const C=t-s[0]-1,N=f(h,C);return y(N,-n,!0)}function v(){return g.every(({index:C})=>{const N=h.filter(k=>k!==C);return S(N,t)<=.1})}function j(){g.forEach(C=>{const{target:N,translate:k,slideLocation:z}=C,A=N();A!==z.get()&&(k.to(A),z.set(A))})}function I(){g.forEach(C=>C.translate.clear())}return{canLoop:v,clear:I,loop:j,loopPoints:g}}function _n(e,t,n){let o,i=!1;function r(c){if(!n)return;function l(h){for(const m of h)if(m.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}o=new MutationObserver(h=>{i||(Re(n)||n(c,h))&&l(h)}),o.observe(e,{childList:!0})}function s(){o&&o.disconnect(),i=!0}return{init:r,destroy:s}}function zn(e,t,n,o){const i={};let r=null,s=null,a,c=!1;function l(){a=new IntersectionObserver(f=>{c||(f.forEach(p=>{const y=t.indexOf(p.target);i[y]=p}),r=null,s=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:o}),t.forEach(f=>a.observe(f))}function h(){a&&a.disconnect(),c=!0}function m(f){return Ce(i).reduce((p,y)=>{const d=parseInt(y),{isIntersecting:x}=i[d];return(f&&x||!f&&!x)&&p.push(d),p},[])}function g(f=!0){if(f&&r)return r;if(!f&&s)return s;const p=m(f);return f&&(r=p),f||(s=p),p}return{init:l,destroy:h,get:g}}function Rn(e,t,n,o,i,r){const{measureSize:s,startEdge:a,endEdge:c}=e,l=n[0]&&i,h=f(),m=p(),g=n.map(s),S=y();function f(){if(!l)return 0;const x=n[0];return R(t[a]-x[a])}function p(){if(!l)return 0;const x=r.getComputedStyle(le(o));return parseFloat(x.getPropertyValue(`margin-${c}`))}function y(){return n.map((x,v,j)=>{const I=!v,E=tt(j,v);return I?g[v]+h:E?g[v]+m:j[v+1][a]-x[a]}).map(R)}return{slideSizes:g,slideSizesWithGaps:S,startGap:h,endGap:m}}function Fn(e,t,n,o,i,r,s,a,c){const{startEdge:l,endEdge:h,direction:m}=e,g=We(n);function S(d,x){return we(d).filter(v=>v%x===0).map(v=>d.slice(v,v+x))}function f(d){return d.length?we(d).reduce((x,v,j)=>{const I=le(x)||0,E=I===0,C=v===Ee(d),N=i[l]-r[I][l],k=i[l]-r[v][h],z=!o&&E?m(s):0,A=!o&&C?m(a):0,U=R(k-A-(N+z));return j&&U>t+c&&x.push(v),C&&x.push(d.length),x},[]).map((x,v,j)=>{const I=Math.max(j[v-1]||0);return d.slice(I,x)}):[]}function p(d){return g?S(d,n):f(d)}return{groupSlides:p}}function $n(e,t,n,o,i,r,s){const{align:a,axis:c,direction:l,startIndex:h,loop:m,duration:g,dragFree:S,dragThreshold:f,inViewThreshold:p,slidesToScroll:y,skipSnaps:d,containScroll:x,watchResize:v,watchSlides:j,watchDrag:I,watchFocus:E}=r,C=2,N=bn(),k=N.measure(t),z=n.map(N.measure),A=xn(c,l),U=A.measureSize(k),Y=jn(U),Z=gn(a,U),H=!m&&!!x,ae=m||!!x,{slideSizes:oe,slideSizesWithGaps:J,startGap:Q,endGap:fe}=Rn(A,k,z,n,ae,i),K=Fn(A,U,y,m,k,z,Q,fe,C),{snaps:W,snapsAligned:ee}=kn(A,Z,k,z,K),te=-le(W)+le(J),{snapsContained:ue,scrollContainLimit:$}=In(U,te,ee,x,C),F=H?ue:ee,{limit:O}=En(te,F,m),ne=Bt(Ee(F),h,m),w=ne.clone(),B=we(n),b=({dragHandler:ye,scrollBody:$e,scrollBounds:Pe,options:{loop:Te}})=>{Te||Pe.constrain(ye.pointerDown()),$e.seek()},M=({scrollBody:ye,translate:$e,location:Pe,offsetLocation:Te,previousLocation:Dt,scrollLooper:Ot,slideLooper:_t,dragHandler:zt,animation:Rt,eventHandler:rt,scrollBounds:Ft,options:{loop:it}},ct)=>{const at=ye.settled(),$t=!Ft.shouldConstrain(),lt=it?at:at&&$t,ut=lt&&!zt.pointerDown();ut&&Rt.stop();const Pt=Pe.get()*ct+Dt.get()*(1-ct);Te.set(Pt),it&&(Ot.loop(ye.direction()),_t.loop()),$e.to(Te.get()),ut&&rt.emit("settle"),lt||rt.emit("scroll")},_=yn(o,i,()=>b(de),ye=>M(de,ye)),P=.68,q=F[ne.get()],se=be(q),re=be(q),ie=be(q),ce=be(q),T=Cn(se,ie,re,ce,g,P),V=Bn(m,F,te,O,ce),D=Mn(_,ne,w,T,V,ce,s),X=Tn(O),me=Ne(),Fe=zn(t,n,s,p),{slideRegistry:pe}=An(H,x,F,$,K,B),Le=Dn(e,n,pe,D,T,me,s,E),de={ownerDocument:o,ownerWindow:i,eventHandler:s,containerRect:k,slideRects:z,animation:_,axis:A,dragHandler:Sn(A,e,o,i,ce,vn(A,i),se,_,D,T,V,ne,s,Y,S,f,d,P,I),eventStore:me,percentOfView:Y,index:ne,indexPrevious:w,limit:O,location:se,offsetLocation:ie,previousLocation:re,options:r,resizeHandler:wn(t,s,i,n,A,v,N),scrollBody:T,scrollBounds:Nn(O,ie,ce,T,Y),scrollLooper:Ln(te,O,ie,[se,ie,re,ce]),scrollProgress:X,scrollSnapList:F.map(X.get),scrollSnaps:F,scrollTarget:V,scrollTo:D,slideLooper:On(A,U,te,oe,J,W,F,ie,n),slideFocus:Le,slidesHandler:_n(t,s,j),slidesInView:Fe,slideIndexes:B,slideRegistry:pe,slidesToScroll:K,target:ce,translate:Mt(A,t)};return de}function Pn(){let e={},t;function n(l){t=l}function o(l){return e[l]||[]}function i(l){return o(l).forEach(h=>h(t,l)),c}function r(l,h){return e[l]=o(l).concat([h]),c}function s(l,h){return e[l]=o(l).filter(m=>m!==h),c}function a(){e={}}const c={init:n,emit:i,off:s,on:r,clear:a};return c}const Vn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Un(e){function t(r,s){return At(r,s||{})}function n(r){const s=r.breakpoints||{},a=Ce(s).filter(c=>e.matchMedia(c).matches).map(c=>s[c]).reduce((c,l)=>t(c,l),{});return t(r,a)}function o(r){return r.map(s=>Ce(s.breakpoints||{})).reduce((s,a)=>s.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:o}}function qn(e){let t=[];function n(r,s){return t=s.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(r,e)),s.reduce((a,c)=>Object.assign(a,{[c.name]:c}),{})}function o(){t=t.filter(r=>r.destroy())}return{init:n,destroy:o}}function _e(e,t,n){const o=e.ownerDocument,i=o.defaultView,r=Un(i),s=qn(r),a=Ne(),c=Pn(),{mergeOptions:l,optionsAtMedia:h,optionsMediaQueries:m}=r,{on:g,off:S,emit:f}=c,p=A;let y=!1,d,x=l(Vn,_e.globalOptions),v=l(x),j=[],I,E,C;function N(){const{container:B,slides:b}=v;E=(He(B)?e.querySelector(B):B)||e.children[0];const _=He(b)?E.querySelectorAll(b):b;C=[].slice.call(_||E.children)}function k(B){const b=$n(e,E,C,o,i,B,c);if(B.loop&&!b.slideLooper.canLoop()){const M=Object.assign({},B,{loop:!1});return k(M)}return b}function z(B,b){y||(x=l(x,B),v=h(x),j=b||j,N(),d=k(v),m([x,...j.map(({options:M})=>M)]).forEach(M=>a.add(M,"change",A)),v.active&&(d.translate.to(d.location.get()),d.animation.init(),d.slidesInView.init(),d.slideFocus.init(w),d.eventHandler.init(w),d.resizeHandler.init(w),d.slidesHandler.init(w),d.options.loop&&d.slideLooper.loop(),E.offsetParent&&C.length&&d.dragHandler.init(w),I=s.init(w,j)))}function A(B,b){const M=K();U(),z(l({startIndex:M},B),b),c.emit("reInit")}function U(){d.dragHandler.destroy(),d.eventStore.clear(),d.translate.clear(),d.slideLooper.clear(),d.resizeHandler.destroy(),d.slidesHandler.destroy(),d.slidesInView.destroy(),d.animation.destroy(),s.destroy(),a.clear()}function Y(){y||(y=!0,a.clear(),U(),c.emit("destroy"),c.clear())}function Z(B,b,M){!v.active||y||(d.scrollBody.useBaseFriction().useDuration(b===!0?0:v.duration),d.scrollTo.index(B,M||0))}function H(B){const b=d.index.add(1).get();Z(b,B,-1)}function ae(B){const b=d.index.add(-1).get();Z(b,B,1)}function oe(){return d.index.add(1).get()!==K()}function J(){return d.index.add(-1).get()!==K()}function Q(){return d.scrollSnapList}function fe(){return d.scrollProgress.get(d.offsetLocation.get())}function K(){return d.index.get()}function W(){return d.indexPrevious.get()}function ee(){return d.slidesInView.get()}function te(){return d.slidesInView.get(!1)}function ue(){return I}function $(){return d}function F(){return e}function O(){return E}function ne(){return C}const w={canScrollNext:oe,canScrollPrev:J,containerNode:O,internalEngine:$,destroy:Y,off:S,on:g,emit:f,plugins:ue,previousScrollSnap:W,reInit:p,rootNode:F,scrollNext:H,scrollPrev:ae,scrollProgress:fe,scrollSnapList:Q,scrollTo:Z,selectedScrollSnap:K,slideNodes:ne,slidesInView:ee,slidesNotInView:te};return z(t,n),setTimeout(()=>c.emit("init"),0),w}_e.globalOptions=void 0;function nt(e={},t=[]){const n=L.useRef(e),o=L.useRef(t),[i,r]=L.useState(),[s,a]=L.useState(),c=L.useCallback(()=>{i&&i.reInit(n.current,o.current)},[i]);return L.useEffect(()=>{Ze(n.current,e)||(n.current=e,c())},[e,c]),L.useEffect(()=>{mn(o.current,t)||(o.current=t,c())},[t,c]),L.useEffect(()=>{if(fn()&&s){_e.globalOptions=nt.globalOptions;const l=_e(s,n.current,o.current);return r(l),()=>l.destroy()}else r(void 0)},[s,r]),[a,i]}nt.globalOptions=void 0;const[Gn,Hn]=bt("Carousel component was not found in tree");var st={root:"m_17884d0f",viewport:"m_a2dae653",container:"m_fcd81474",controls:"m_39bc3463",control:"m_64f58e10",indicators:"m_71ea3ab1",indicator:"m_eae68602",slide:"m_d98df724"};const Kn={},ot=Ye((e,t)=>{const{classNames:n,className:o,style:i,styles:r,vars:s,mod:a,...c}=ze("CarouselSlide",Kn,e),l=Hn();return u.jsx(Se,{ref:t,mod:[{orientation:l.orientation},a],...l.getStyles("slide",{className:o,style:i,classNames:n,styles:r}),...c})});ot.classes=st;ot.displayName="@mantine/carousel/CarouselSlide";function Xn({slideGap:e,slideSize:t,selector:n}){const o=Ht(),i=wt({"--carousel-slide-gap":he(Me(e)),"--carousel-slide-size":xe(Me(t))}),r=Ae(o.breakpoints).reduce((c,l)=>(c[l]||(c[l]={}),typeof e=="object"&&e[l]!==void 0&&(c[l]["--carousel-slide-gap"]=he(e[l])),typeof t=="object"&&t[l]!==void 0&&(c[l]["--carousel-slide-size"]=he(t[l])),c),{}),a=nn(Ae(r),o.breakpoints).filter(c=>Ae(r[c.value]).length>0).map(c=>({query:`(min-width: ${o.breakpoints[c.value]})`,styles:r[c.value]}));return u.jsx(Ct,{styles:i,media:a,selector:n})}function xt(e){return typeof e=="object"&&e!==null?Ae(e):[]}function Jn(e){return e.sort((t,n)=>Be(t)-Be(n))}function Qn({slideGap:e,slideSize:t}){const n=Array.from(new Set([...xt(e),...xt(t)]));return Jn(n)}function Yn({slideGap:e,slideSize:t,selector:n}){const o=wt({"--carousel-slide-gap":he(Me(e)),"--carousel-slide-size":xe(Me(t))}),i=Qn({slideGap:e,slideSize:t}).reduce((s,a)=>(s[a]||(s[a]={}),typeof e=="object"&&e[a]!==void 0&&(s[a]["--carousel-slide-gap"]=he(e[a])),typeof t=="object"&&t[a]!==void 0&&(s[a]["--carousel-slide-size"]=he(t[a])),s),{}),r=Object.keys(i).map(s=>({query:`carousel (min-width: ${s})`,styles:i[s]}));return u.jsx(Ct,{styles:o,container:r,selector:n})}function St({dir:e,orientation:t,direction:n}){return n==="previous"?t==="horizontal"?90*(e==="ltr"?1:-1):-180:t==="horizontal"?90*(e==="ltr"?-1:1):0}const Zn={controlSize:26,controlsOffset:"sm",slideSize:"100%",slideGap:0,orientation:"horizontal",align:"center",slidesToScroll:1,includeGapInSize:!0,draggable:!0,dragFree:!1,loop:!1,speed:10,initialSlide:0,inViewThreshold:0,withControls:!0,withIndicators:!1,skipSnaps:!1,containScroll:"",withKeyboardEvents:!0,type:"media"},Wn=Je((e,{height:t,controlSize:n,controlsOffset:o})=>({root:{"--carousel-height":xe(t),"--carousel-control-size":xe(n),"--carousel-controls-offset":he(o)}})),Ie=Ye((e,t)=>{const n=ze("Carousel",Zn,e),{classNames:o,className:i,style:r,styles:s,unstyled:a,vars:c,children:l,getEmblaApi:h,onNextSlide:m,onPreviousSlide:g,onSlideChange:S,nextControlProps:f,previousControlProps:p,controlSize:y,controlsOffset:d,slideSize:x,slideGap:v,orientation:j,height:I,align:E,slidesToScroll:C,includeGapInSize:N,draggable:k,dragFree:z,loop:A,speed:U,initialSlide:Y,inViewThreshold:Z,withControls:H,withIndicators:ae,plugins:oe,nextControlIcon:J,previousControlIcon:Q,skipSnaps:fe,containScroll:K,withKeyboardEvents:W,mod:ee,type:te,...ue}=n,$=Xe({name:"Carousel",classes:st,props:n,className:i,style:r,classNames:o,styles:s,unstyled:a,vars:c,varsResolver:Wn}),F=Kt(),{dir:O}=Qe(),[ne,w]=nt({axis:j==="horizontal"?"x":"y",direction:j==="horizontal"?O:void 0,startIndex:Y,loop:A,align:E,slidesToScroll:C,draggable:k,dragFree:z,speed:U,inViewThreshold:Z,skipSnaps:fe,containScroll:K},oe),[B,b]=L.useState(0),[M,_]=L.useState(0),P=L.useCallback(D=>w&&w.scrollTo(D),[w]),q=L.useCallback(()=>{if(!w)return;const D=w.selectedScrollSnap();b(D),D!==B&&(S==null||S(D))},[w,b,S,B]),se=L.useCallback(()=>{w==null||w.scrollPrev(),g==null||g()},[w]),re=L.useCallback(()=>{w==null||w.scrollNext(),m==null||m()},[w]),ie=L.useCallback(D=>{W&&(D.key==="ArrowRight"&&(D.preventDefault(),re()),D.key==="ArrowLeft"&&(D.preventDefault(),se()))},[w]);L.useEffect(()=>{if(w)return h==null||h(w),q(),_(w.scrollSnapList().length),w.on("select",q),()=>{w.off("select",q)}},[w,C,q]),L.useEffect(()=>{w&&(w.reInit(),_(w.scrollSnapList().length),b(D=>Nt(D,0,L.Children.toArray(l).length-1)))},[L.Children.toArray(l).length,C]);const ce=(w==null?void 0:w.canScrollPrev())||!1,T=(w==null?void 0:w.canScrollNext())||!1,V=Array(M).fill(0).map((D,X)=>L.createElement(Ve,{...$("indicator"),key:X,"data-active":X===B||void 0,"aria-hidden":!0,tabIndex:-1,onClick:()=>P(X),"data-orientation":j,onMouseDown:me=>me.preventDefault()}));return u.jsxs(Gn,{value:{getStyles:$,orientation:j},children:[te==="container"?u.jsx(Yn,{...n,selector:`.${F}`}):u.jsx(Xn,{...n,selector:`.${F}`}),u.jsxs(Se,{ref:t,...$("root",{className:"responsiveClassName"}),...ue,mod:[{orientation:j,"include-gap-in-size":N},ee],onKeyDownCapture:ie,children:[u.jsx("div",{...$("viewport"),ref:ne,"data-type":te,children:u.jsx("div",{...$("container",{className:F}),"data-orientation":j,children:l})}),ae&&u.jsx("div",{...$("indicators"),"data-orientation":j,children:V}),H&&u.jsxs("div",{...$("controls"),"data-orientation":j,children:[u.jsx(Ve,{...p,...$("control",{className:p==null?void 0:p.className,style:p==null?void 0:p.style}),onClick:D=>{var X;se(),(X=p==null?void 0:p.onClick)==null||X.call(p,D)},"data-inactive":!ce||void 0,tabIndex:ce?0:-1,children:typeof Q<"u"?Q:u.jsx(qe,{style:{transform:`rotate(${St({dir:O,orientation:j,direction:"previous"})}deg)`}})}),u.jsx(Ve,{...$("control",{className:f==null?void 0:f.className,style:f==null?void 0:f.style}),...f,onClick:D=>{var X;re(),(X=f==null?void 0:f.onClick)==null||X.call(f,D)},"data-inactive":!T||void 0,tabIndex:T?0:-1,children:typeof J<"u"?J:u.jsx(qe,{style:{transform:`rotate(${St({dir:O,orientation:j,direction:"next"})}deg)`}})})]})]})]})});Ie.classes=st;Ie.displayName="@mantine/carousel/Carousel";Ie.Slide=ot;function es({itemId:e}){const[t,n]=L.useState([]),[o,i]=L.useState(!0),[r,s]=L.useState(null),[a,c]=L.useState([]);L.useEffect(()=>{fetch(`/api/items/${e}`).then(h=>{if(!h.ok)throw new Error(`Status ${h.status}`);return h.json()}).then(h=>{const m=Array.isArray(h.images)?h.images:[];n(m)}).catch(h=>s(h.message)).finally(()=>i(!1))},[e]);const l=h=>{c(m=>[...m,h])};return o?u.jsx(G,{children:"Loading images…"}):r?u.jsxs(G,{color:"red",children:["Error: ",r]}):!t||t.length===0?u.jsx(G,{children:"No images available."}):u.jsx(Ie,{withControls:!1,height:300,slideSize:"50%",slideGap:0,align:"start",breakpoints:[{maxWidth:"sm",slideSize:"100%"}],children:t.map((h,m)=>u.jsx(Ie.Slide,{children:u.jsxs("div",{className:"carousel-image-wrapper",children:[!a.includes(m)&&u.jsx("div",{className:"image-skeleton"}),u.jsx("img",{src:h.url,alt:`Slide ${m+1}`,loading:"lazy",onLoad:()=>l(m),style:{width:"100%",height:"100%",objectFit:"cover",opacity:a.includes(m)?1:0,transition:"opacity 0.3s ease",position:"absolute",top:0,left:0}})]})},h.id||m))})}function ts({itemId:e}){return u.jsx("section",{className:"detail-carousel",children:u.jsx(es,{itemId:e})})}function ns({item:e,expanded:t,setExpanded:n}){var r;if(!e)return null;const o=e.description||"",i=o.slice(0,180)+(o.length>180?"…":"");return u.jsxs("section",{className:"detail-info",children:[u.jsx(ve,{order:2,children:e.name}),u.jsx(De,{size:"lg",color:e.level==="Easy"?"green":e.level==="Moderate"?"blue":"red",variant:"light",mt:"xs",children:e.level}),((r=e.tags)==null?void 0:r.length)>0&&u.jsx("div",{className:"detail-tags",children:e.tags.map(s=>u.jsx(De,{size:"xs",variant:"filled",radius:"sm",className:"detail-tag",children:s},s))}),u.jsxs("div",{className:`detail-description ${t?"expanded":""}`,children:[u.jsx(G,{children:t?o:i}),o.length>180&&u.jsxs("button",{onClick:()=>n(!t),className:"toggle-desc-btn",children:[t?u.jsx(un,{size:20}):u.jsx(ln,{size:20}),u.jsx("span",{children:t?"Show less":"Show more"})]})]})]})}function ss({boxProducts:e}){return e!=null&&e.length?u.jsxs("section",{className:"detail-box-products",children:[u.jsx(ve,{className:"detail-title",order:3,children:"Box products"}),u.jsx("div",{className:"box-products-list",children:e.map(t=>u.jsxs("div",{className:"box-product-card",children:[u.jsx("img",{src:t.image_url,alt:t.description,className:"box-product-card__img"}),u.jsxs("div",{className:"box-product-card__body",children:[u.jsx(G,{fw:700,children:t.title}),u.jsx(G,{size:"sm",color:"dimmed",mt:"xs",children:t.description})]})]},t.id))})]}):null}function os({tutorialUrl:e,poster:t}){return e?u.jsxs("section",{className:"detail-tutorial",children:[u.jsx(ve,{className:"detail-title",order:3,children:"Tutorial preview"}),u.jsx("video",{src:e,controls:!0,poster:t,className:"detail-video",preload:"metadata",width:"100%",children:u.jsx(G,{component:"p",children:"Your browser does not support the video tag."})})]}):null}function rs({instructions:e}){return e!=null&&e.length?u.jsxs("section",{className:"detail-instructions",children:[u.jsx(ve,{className:"detail-title",order:3,children:"Instructions preview"}),u.jsx("div",{className:"instructions-list",children:e.map((t,n)=>u.jsxs("div",{className:"instruction-step",children:[u.jsxs("span",{className:"instruction-step__number",children:[n+1,"."]}),u.jsxs("div",{className:"instruction-step__body",children:[u.jsx(G,{fw:500,children:t.title}),u.jsx(G,{size:"sm",color:"dimmed",mt:2,children:t.text})]})]},n))})]}):null}function is({reviews:e=[],showReviews:t,setShowReviews:n}){const o=e.length,i=o===0?0:e.reduce((s,a)=>s+a.rating,0)/o,r=i.toFixed(1).replace(".",",");return u.jsxs("section",{className:"detail-reviews",children:[u.jsx(ve,{className:"detail-title",order:3,children:"Reviews"}),!t&&u.jsx(Xt,{withBorder:!0,shadow:"sm",p:"lg",radius:"lg",className:"reviews-summary",mt:"sm",children:u.jsxs("div",{className:"reviews-summary-content",children:[u.jsx(ve,{order:2,children:r}),u.jsx(Oe,{value:i,readOnly:!0,fractions:10,size:"lg",color:"grape"}),u.jsxs(G,{fw:500,mt:"xs",children:[o," ",o===1?"rating":"ratings"]}),o>0&&u.jsx(ft,{size:"sm",radius:"xl",mt:"sm",color:"grape",onClick:()=>n(!0),children:"See reviews ›"})]})}),t&&u.jsxs(u.Fragment,{children:[e.length>0?e.map(s=>u.jsxs("div",{className:"review-card",children:[u.jsxs("div",{className:"review-header",children:[u.jsx(G,{fw:700,children:s.author}),u.jsx(Oe,{value:s.rating,readOnly:!0,size:"sm",fractions:10,color:"grape"})]}),u.jsx(G,{mt:"xs",children:s.comment}),u.jsx(Jt,{my:"sm"})]},s.id)):u.jsx(G,{children:"No reviews yet."}),u.jsx(ft,{variant:"subtle",radius:"xl",size:"xs",onClick:()=>n(!1),children:"‹ Back to summary"})]})]})}function cs({item:e,handleAddToBasket:t}){return u.jsx("div",{className:"purchase-banner",children:u.jsxs("div",{className:"purchase-banner__content",children:[u.jsxs("div",{className:"purchase-banner__price",children:[u.jsx(G,{fw:500,size:"sm",children:"Price:"}),u.jsxs(G,{fw:900,size:"lg",children:["€",e.price.toFixed(2).replace(".",",")]})]}),u.jsx(Qt,{onClick:t})]})})}function ds(){var p;const{id:e}=Yt(),t=Number(e);Zt();const[n,o]=L.useState(null),[i,r]=L.useState(!0),[s,a]=L.useState(null),[c,l]=L.useState(!1),[h,m]=L.useState(!1),[g,S]=L.useState(0);L.useEffect(()=>{fetch(`/api/item_detail?id=${t}`).then(async y=>{if(!y.ok){const x=await y.text();throw new Error(`Item not found: ${x}`)}const d=y.headers.get("Content-Type");if(!d||!d.includes("application/json")){const x=await y.text();throw new Error(`Unexpected response: ${x}`)}return y.json()}).then(y=>o(y)).catch(y=>a(y.message)).finally(()=>r(!1))},[t]);const f=async()=>{if(n)try{const y=await fetch("/api/basket",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:n.id})}),d=await y.json();if(!y.ok)throw new Error(d.error||"Failed to add to basket");mt.show({title:"Item added to basket",message:`${n.name} has been added.`,color:"grape",autoClose:2e3,withCloseButton:!1}),S(x=>x+1)}catch{mt.show({title:"Error",message:"Could not add item to basket.",color:"red",autoClose:3e3})}};return i?u.jsx(G,{children:"Loading…"}):s?u.jsxs(G,{color:"red",children:["Error: ",s]}):u.jsxs("div",{className:"product-detail",children:[u.jsxs("div",{className:"detail-header-buttons",children:[u.jsx(Wt,{style:{position:"fixed"}}),u.jsx(en,{refresh:g})]}),u.jsx(ts,{itemId:t}),u.jsx(ns,{item:n,expanded:c,setExpanded:l}),u.jsx(ss,{boxProducts:n.boxProducts}),u.jsx(os,{tutorialUrl:n.tutorialUrl,poster:(p=n.images)==null?void 0:p[0]}),u.jsx(rs,{instructions:n.instructions}),u.jsx(is,{reviews:n.reviews,showReviews:h,setShowReviews:m}),u.jsx(cs,{item:n,handleAddToBasket:f})]})}export{ds as default};
