import{b as N,E as Ct,f as at,u as lt,j as d,B as ut,F as ft,q as Ne,H as fe,I as Ce,J as dt,i as Lt,K as Ie,Q as Tt,U as Xe,m as kt,V as At,W as Dt,X as Ot,Y as Oe,Z as Ye,p as Bt,x as _,T as pe,$ as Ze,w as zt,a0 as We,s as et,D as Mt}from"./mantine-BTrqRPtO.js";import{B as Ft}from"./BasketButton-ragN9VfS.js";import{j as mt,A as Pt,l as Vt,u as _t,B as Rt,n as tt}from"./index-Wzv5Lk5m.js";/* empty css                         *//**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $t=mt("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qt=mt("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]);function Ht(e){return Object.prototype.toString.call(e)==="[object Object]"}function nt(e){return Ht(e)||Array.isArray(e)}function Ut(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Me(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const c=JSON.stringify(Object.keys(e.breakpoints||{})),o=JSON.stringify(Object.keys(t.breakpoints||{}));return c!==o?!1:n.every(s=>{const a=e[s],i=t[s];return typeof a=="function"?`${a}`==`${i}`:!nt(a)||!nt(i)?a===i:Me(a,i)})}function st(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function Gt(e,t){if(e.length!==t.length)return!1;const n=st(e),r=st(t);return n.every((c,o)=>{const s=r[o];return Me(c,s)})}function Fe(e){return typeof e=="number"}function Be(e){return typeof e=="string"}function Te(e){return typeof e=="boolean"}function rt(e){return Object.prototype.toString.call(e)==="[object Object]"}function B(e){return Math.abs(e)}function Pe(e){return Math.sign(e)}function xe(e,t){return B(e-t)}function Kt(e,t){if(e===0||t===0||B(e)<=B(t))return 0;const n=xe(B(e),B(t));return B(n/e)}function Jt(e){return Math.round(e*100)/100}function ye(e){return Se(e).map(Number)}function ee(e){return e[be(e)]}function be(e){return Math.max(0,e.length-1)}function Ve(e,t){return t===be(e)}function ot(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function Se(e){return Object.keys(e)}function pt(e,t){return[e,t].reduce((n,r)=>(Se(r).forEach(c=>{const o=n[c],s=r[c],a=rt(o)&&rt(s);n[c]=a?pt(o,s):s}),n),{})}function ze(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function Qt(e,t){const n={start:r,center:c,end:o};function r(){return 0}function c(i){return o(i)/2}function o(i){return t-i}function s(i,l){return Be(e)?n[e](i):e(t,i,l)}return{measure:s}}function ve(){let e=[];function t(c,o,s,a={passive:!0}){let i;if("addEventListener"in c)c.addEventListener(o,s,a),i=()=>c.removeEventListener(o,s,a);else{const l=c;l.addListener(s),i=()=>l.removeListener(s)}return e.push(i),r}function n(){e=e.filter(c=>c())}const r={add:t,clear:n};return r}function Xt(e,t,n,r){const c=ve(),o=1e3/60;let s=null,a=0,i=0;function l(){c.add(e,"visibilitychange",()=>{e.hidden&&u()})}function h(){S(),c.clear()}function f(x){if(!i)return;s||(s=x,n(),n());const m=x-s;for(s=x,a+=m;a>=o;)n(),a-=o;const y=a/o;r(y),i&&(i=t.requestAnimationFrame(f))}function g(){i||(i=t.requestAnimationFrame(f))}function S(){t.cancelAnimationFrame(i),s=null,a=0,i=0}function u(){s=null,a=0}return{init:l,destroy:h,start:g,stop:S,update:n,render:r}}function Yt(e,t){const n=t==="rtl",r=e==="y",c=r?"y":"x",o=r?"x":"y",s=!r&&n?-1:1,a=h(),i=f();function l(u){const{height:p,width:x}=u;return r?p:x}function h(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function g(u){return u*s}return{scroll:c,cross:o,startEdge:a,endEdge:i,measureSize:l,direction:g}}function de(e=0,t=0){const n=B(e-t);function r(l){return l<e}function c(l){return l>t}function o(l){return r(l)||c(l)}function s(l){return o(l)?r(l)?e:t:l}function a(l){return n?l-n*Math.ceil((l-t)/n):l}return{length:n,max:t,min:e,constrain:s,reachedAny:o,reachedMax:c,reachedMin:r,removeOffset:a}}function ht(e,t,n){const{constrain:r}=de(0,e),c=e+1;let o=s(t);function s(g){return n?B((c+g)%c):r(g)}function a(){return o}function i(g){return o=s(g),f}function l(g){return h().set(a()+g)}function h(){return ht(e,a(),n)}const f={get:a,set:i,add:l,clone:h};return f}function Zt(e,t,n,r,c,o,s,a,i,l,h,f,g,S,u,p,x,m,y){const{cross:j,direction:w}=e,D=["INPUT","SELECT","TEXTAREA"],C={passive:!1},E=ve(),I=ve(),L=de(50,225).constrain(S.measure(20)),z={mouse:300,touch:400},T={mouse:500,touch:600},R=u?43:25;let H=!1,U=0,G=0,oe=!1,te=!1,K=!1,J=!1;function le(v){if(!y)return;function k(V){(Te(y)||y(v,V))&&$(V)}const O=t;E.add(O,"dragstart",V=>V.preventDefault(),C).add(O,"touchmove",()=>{},C).add(O,"touchend",()=>{}).add(O,"touchstart",k).add(O,"mousedown",k).add(O,"touchcancel",F).add(O,"contextmenu",F).add(O,"click",W,!0)}function Q(){E.clear(),I.clear()}function ie(){const v=J?n:t;I.add(v,"touchmove",P,C).add(v,"touchend",F).add(v,"mousemove",P,C).add(v,"mouseup",F)}function ce(v){const k=v.nodeName||"";return D.includes(k)}function X(){return(u?T:z)[J?"mouse":"touch"]}function ue(v,k){const O=f.add(Pe(v)*-1),V=h.byDistance(v,!u).distance;return u||B(v)<L?V:x&&k?V*.5:h.byIndex(O.get(),0).distance}function $(v){const k=ze(v,r);J=k,K=u&&k&&!v.buttons&&H,H=xe(c.get(),s.get())>=2,!(k&&v.button!==0)&&(ce(v.target)||(oe=!0,o.pointerDown(v),l.useFriction(0).useDuration(0),c.set(s),ie(),U=o.readPoint(v),G=o.readPoint(v,j),g.emit("pointerDown")))}function P(v){if(!ze(v,r)&&v.touches.length>=2)return F(v);const O=o.readPoint(v),V=o.readPoint(v,j),q=xe(O,U),Y=xe(V,G);if(!te&&!J&&(!v.cancelable||(te=q>Y,!te)))return F(v);const ne=o.pointerMove(v);q>p&&(K=!0),l.useFriction(.3).useDuration(.75),a.start(),c.add(w(ne)),v.preventDefault()}function F(v){const O=h.byDistance(0,!1).index!==f.get(),V=o.pointerUp(v)*X(),q=ue(w(V),O),Y=Kt(V,q),ne=R-10*Y,se=m+Y/50;te=!1,oe=!1,I.clear(),l.useDuration(ne).useFriction(se),i.distance(q,!u),J=!1,g.emit("pointerUp")}function W(v){K&&(v.stopPropagation(),v.preventDefault(),K=!1)}function b(){return oe}return{init:le,destroy:Q,pointerDown:b}}function Wt(e,t){let r,c;function o(f){return f.timeStamp}function s(f,g){const u=`client${(g||e.scroll)==="x"?"X":"Y"}`;return(ze(f,t)?f:f.touches[0])[u]}function a(f){return r=f,c=f,s(f)}function i(f){const g=s(f)-s(c),S=o(f)-o(r)>170;return c=f,S&&(r=f),g}function l(f){if(!r||!c)return 0;const g=s(c)-s(r),S=o(f)-o(r),u=o(f)-o(c)>170,p=g/S;return S&&!u&&B(p)>.1?p:0}return{pointerDown:a,pointerMove:i,pointerUp:l,readPoint:s}}function en(){function e(n){const{offsetTop:r,offsetLeft:c,offsetWidth:o,offsetHeight:s}=n;return{top:r,right:c+o,bottom:r+s,left:c,width:o,height:s}}return{measure:e}}function tn(e){function t(r){return e*(r/100)}return{measure:t}}function nn(e,t,n,r,c,o,s){const a=[e].concat(r);let i,l,h=[],f=!1;function g(x){return c.measureSize(s.measure(x))}function S(x){if(!o)return;l=g(e),h=r.map(g);function m(y){for(const j of y){if(f)return;const w=j.target===e,D=r.indexOf(j.target),C=w?l:h[D],E=g(w?e:r[D]);if(B(E-C)>=.5){x.reInit(),t.emit("resize");break}}}i=new ResizeObserver(y=>{(Te(o)||o(x,y))&&m(y)}),n.requestAnimationFrame(()=>{a.forEach(y=>i.observe(y))})}function u(){f=!0,i&&i.disconnect()}return{init:S,destroy:u}}function sn(e,t,n,r,c,o){let s=0,a=0,i=c,l=o,h=e.get(),f=0;function g(){const C=r.get()-e.get(),E=!i;let I=0;return E?(s=0,n.set(r),e.set(r),I=C):(n.set(e),s+=C/i,s*=l,h+=s,e.add(s),I=h-f),a=Pe(I),f=h,D}function S(){const C=r.get()-t.get();return B(C)<.001}function u(){return i}function p(){return a}function x(){return s}function m(){return j(c)}function y(){return w(o)}function j(C){return i=C,D}function w(C){return l=C,D}const D={direction:p,duration:u,velocity:x,seek:g,settled:S,useBaseFriction:y,useBaseDuration:m,useFriction:w,useDuration:j};return D}function rn(e,t,n,r,c){const o=c.measure(10),s=c.measure(50),a=de(.1,.99);let i=!1;function l(){return!(i||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function h(S){if(!l())return;const u=e.reachedMin(t.get())?"min":"max",p=B(e[u]-t.get()),x=n.get()-t.get(),m=a.constrain(p/s);n.subtract(x*m),!S&&B(x)<o&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(S){i=!S}return{shouldConstrain:l,constrain:h,toggleActive:f}}function on(e,t,n,r,c){const o=de(-t+e,0),s=f(),a=h(),i=g();function l(u,p){return xe(u,p)<=1}function h(){const u=s[0],p=ee(s),x=s.lastIndexOf(u),m=s.indexOf(p)+1;return de(x,m)}function f(){return n.map((u,p)=>{const{min:x,max:m}=o,y=o.constrain(u),j=!p,w=Ve(n,p);return j?m:w||l(x,y)?x:l(m,y)?m:y}).map(u=>parseFloat(u.toFixed(3)))}function g(){if(t<=e+c)return[o.max];if(r==="keepSnaps")return s;const{min:u,max:p}=a;return s.slice(u,p)}return{snapsContained:i,scrollContainLimit:a}}function cn(e,t,n){const r=t[0],c=n?r-e:ee(t);return{limit:de(c,r)}}function an(e,t,n,r){const o=t.min+.1,s=t.max+.1,{reachedMin:a,reachedMax:i}=de(o,s);function l(g){return g===1?i(n.get()):g===-1?a(n.get()):!1}function h(g){if(!l(g))return;const S=e*(g*-1);r.forEach(u=>u.add(S))}return{loop:h}}function ln(e){const{max:t,length:n}=e;function r(o){const s=o-t;return n?s/-n:0}return{get:r}}function un(e,t,n,r,c){const{startEdge:o,endEdge:s}=e,{groupSlides:a}=c,i=f().map(t.measure),l=g(),h=S();function f(){return a(r).map(p=>ee(p)[s]-p[0][o]).map(B)}function g(){return r.map(p=>n[o]-p[o]).map(p=>-B(p))}function S(){return a(l).map(p=>p[0]).map((p,x)=>p+i[x])}return{snaps:l,snapsAligned:h}}function fn(e,t,n,r,c,o){const{groupSlides:s}=c,{min:a,max:i}=r,l=h();function h(){const g=s(o),S=!e||t==="keepSnaps";return n.length===1?[o]:S?g:g.slice(a,i).map((u,p,x)=>{const m=!p,y=Ve(x,p);if(m){const j=ee(x[0])+1;return ot(j)}if(y){const j=be(o)-ee(x)[0]+1;return ot(j,ee(x)[0])}return u})}return{slideRegistry:l}}function dn(e,t,n,r,c){const{reachedAny:o,removeOffset:s,constrain:a}=r;function i(u){return u.concat().sort((p,x)=>B(p)-B(x))[0]}function l(u){const p=e?s(u):a(u),x=t.map((y,j)=>({diff:h(y-p,0),index:j})).sort((y,j)=>B(y.diff)-B(j.diff)),{index:m}=x[0];return{index:m,distance:p}}function h(u,p){const x=[u,u+n,u-n];if(!e)return u;if(!p)return i(x);const m=x.filter(y=>Pe(y)===p);return m.length?i(m):ee(x)-n}function f(u,p){const x=t[u]-c.get(),m=h(x,p);return{index:u,distance:m}}function g(u,p){const x=c.get()+u,{index:m,distance:y}=l(x),j=!e&&o(x);if(!p||j)return{index:m,distance:u};const w=t[m]-y,D=u+h(w,0);return{index:m,distance:D}}return{byDistance:g,byIndex:f,shortcut:h}}function mn(e,t,n,r,c,o,s){function a(f){const g=f.distance,S=f.index!==t.get();o.add(g),g&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),S&&(n.set(t.get()),t.set(f.index),s.emit("select"))}function i(f,g){const S=c.byDistance(f,g);a(S)}function l(f,g){const S=t.clone().set(f),u=c.byIndex(S.get(),g);a(u)}return{distance:i,index:l}}function pn(e,t,n,r,c,o,s,a){const i={passive:!0,capture:!0};let l=0;function h(S){if(!a)return;function u(p){if(new Date().getTime()-l>10)return;s.emit("slideFocusStart"),e.scrollLeft=0;const y=n.findIndex(j=>j.includes(p));Fe(y)&&(c.useDuration(0),r.index(y,0),s.emit("slideFocus"))}o.add(document,"keydown",f,!1),t.forEach((p,x)=>{o.add(p,"focus",m=>{(Te(a)||a(S,m))&&u(x)},i)})}function f(S){S.code==="Tab"&&(l=new Date().getTime())}return{init:h}}function ge(e){let t=e;function n(){return t}function r(i){t=s(i)}function c(i){t+=s(i)}function o(i){t-=s(i)}function s(i){return Fe(i)?i:i.get()}return{get:n,set:r,add:c,subtract:o}}function gt(e,t){const n=e.scroll==="x"?s:a,r=t.style;let c=null,o=!1;function s(g){return`translate3d(${g}px,0px,0px)`}function a(g){return`translate3d(0px,${g}px,0px)`}function i(g){if(o)return;const S=Jt(e.direction(g));S!==c&&(r.transform=n(S),c=S)}function l(g){o=!g}function h(){o||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:h,to:i,toggleActive:l}}function hn(e,t,n,r,c,o,s,a,i){const h=ye(c),f=ye(c).reverse(),g=m().concat(y());function S(E,I){return E.reduce((L,z)=>L-c[z],I)}function u(E,I){return E.reduce((L,z)=>S(L,I)>0?L.concat([z]):L,[])}function p(E){return o.map((I,L)=>({start:I-r[L]+.5+E,end:I+t-.5+E}))}function x(E,I,L){const z=p(I);return E.map(T=>{const R=L?0:-n,H=L?n:0,U=L?"end":"start",G=z[T][U];return{index:T,loopPoint:G,slideLocation:ge(-1),translate:gt(e,i[T]),target:()=>a.get()>G?R:H}})}function m(){const E=s[0],I=u(f,E);return x(I,n,!1)}function y(){const E=t-s[0]-1,I=u(h,E);return x(I,-n,!0)}function j(){return g.every(({index:E})=>{const I=h.filter(L=>L!==E);return S(I,t)<=.1})}function w(){g.forEach(E=>{const{target:I,translate:L,slideLocation:z}=E,T=I();T!==z.get()&&(L.to(T),z.set(T))})}function D(){g.forEach(E=>E.translate.clear())}return{canLoop:j,clear:D,loop:w,loopPoints:g}}function gn(e,t,n){let r,c=!1;function o(i){if(!n)return;function l(h){for(const f of h)if(f.type==="childList"){i.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(h=>{c||(Te(n)||n(i,h))&&l(h)}),r.observe(e,{childList:!0})}function s(){r&&r.disconnect(),c=!0}return{init:o,destroy:s}}function xn(e,t,n,r){const c={};let o=null,s=null,a,i=!1;function l(){a=new IntersectionObserver(u=>{i||(u.forEach(p=>{const x=t.indexOf(p.target);c[x]=p}),o=null,s=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(u=>a.observe(u))}function h(){a&&a.disconnect(),i=!0}function f(u){return Se(c).reduce((p,x)=>{const m=parseInt(x),{isIntersecting:y}=c[m];return(u&&y||!u&&!y)&&p.push(m),p},[])}function g(u=!0){if(u&&o)return o;if(!u&&s)return s;const p=f(u);return u&&(o=p),u||(s=p),p}return{init:l,destroy:h,get:g}}function yn(e,t,n,r,c,o){const{measureSize:s,startEdge:a,endEdge:i}=e,l=n[0]&&c,h=u(),f=p(),g=n.map(s),S=x();function u(){if(!l)return 0;const y=n[0];return B(t[a]-y[a])}function p(){if(!l)return 0;const y=o.getComputedStyle(ee(r));return parseFloat(y.getPropertyValue(`margin-${i}`))}function x(){return n.map((y,j,w)=>{const D=!j,C=Ve(w,j);return D?g[j]+h:C?g[j]+f:w[j+1][a]-y[a]}).map(B)}return{slideSizes:g,slideSizesWithGaps:S,startGap:h,endGap:f}}function Sn(e,t,n,r,c,o,s,a,i){const{startEdge:l,endEdge:h,direction:f}=e,g=Fe(n);function S(m,y){return ye(m).filter(j=>j%y===0).map(j=>m.slice(j,j+y))}function u(m){return m.length?ye(m).reduce((y,j,w)=>{const D=ee(y)||0,C=D===0,E=j===be(m),I=c[l]-o[D][l],L=c[l]-o[j][h],z=!r&&C?f(s):0,T=!r&&E?f(a):0,R=B(L-T-(I+z));return w&&R>t+i&&y.push(j),E&&y.push(m.length),y},[]).map((y,j,w)=>{const D=Math.max(w[j-1]||0);return m.slice(D,y)}):[]}function p(m){return g?S(m,n):u(m)}return{groupSlides:p}}function vn(e,t,n,r,c,o,s){const{align:a,axis:i,direction:l,startIndex:h,loop:f,duration:g,dragFree:S,dragThreshold:u,inViewThreshold:p,slidesToScroll:x,skipSnaps:m,containScroll:y,watchResize:j,watchSlides:w,watchDrag:D,watchFocus:C}=o,E=2,I=en(),L=I.measure(t),z=n.map(I.measure),T=Yt(i,l),R=T.measureSize(L),H=tn(R),U=Qt(a,R),G=!f&&!!y,oe=f||!!y,{slideSizes:te,slideSizesWithGaps:K,startGap:J,endGap:le}=yn(T,L,z,n,oe,c),Q=Sn(T,R,x,f,L,z,J,le,E),{snaps:ie,snapsAligned:ce}=un(T,U,L,z,Q),X=-ee(ie)+ee(K),{snapsContained:ue,scrollContainLimit:$}=on(R,X,ce,y,E),P=G?ue:ce,{limit:F}=cn(X,P,f),W=ht(be(P),h,f),b=W.clone(),A=ye(n),v=({dragHandler:me,scrollBody:Ae,scrollBounds:De,options:{loop:Ee}})=>{Ee||De.constrain(me.pointerDown()),Ae.seek()},k=({scrollBody:me,translate:Ae,location:De,offsetLocation:Ee,previousLocation:St,scrollLooper:vt,slideLooper:jt,dragHandler:bt,animation:wt,eventHandler:He,scrollBounds:Et,options:{loop:Ue}},Ge)=>{const Ke=me.settled(),It=!Et.shouldConstrain(),Je=Ue?Ke:Ke&&It,Qe=Je&&!bt.pointerDown();Qe&&wt.stop();const Nt=De.get()*Ge+St.get()*(1-Ge);Ee.set(Nt),Ue&&(vt.loop(me.direction()),jt.loop()),Ae.to(Ee.get()),Qe&&He.emit("settle"),Je||He.emit("scroll")},O=Xt(r,c,()=>v(ke),me=>k(ke,me)),V=.68,q=P[W.get()],Y=ge(q),ne=ge(q),se=ge(q),re=ge(q),ae=sn(Y,se,ne,re,g,V),he=dn(f,P,X,F,re),M=mn(O,W,b,ae,he,re,s),Z=ln(F),we=ve(),xt=xn(t,n,s,p),{slideRegistry:qe}=fn(G,y,P,$,Q,A),yt=pn(e,n,qe,M,ae,we,s,C),ke={ownerDocument:r,ownerWindow:c,eventHandler:s,containerRect:L,slideRects:z,animation:O,axis:T,dragHandler:Zt(T,e,r,c,re,Wt(T,c),Y,O,M,ae,he,W,s,H,S,u,m,V,D),eventStore:we,percentOfView:H,index:W,indexPrevious:b,limit:F,location:Y,offsetLocation:se,previousLocation:ne,options:o,resizeHandler:nn(t,s,c,n,T,j,I),scrollBody:ae,scrollBounds:rn(F,se,re,ae,H),scrollLooper:an(X,F,se,[Y,se,ne,re]),scrollProgress:Z,scrollSnapList:P.map(Z.get),scrollSnaps:P,scrollTarget:he,scrollTo:M,slideLooper:hn(T,R,X,te,K,ie,P,se,n),slideFocus:yt,slidesHandler:gn(t,s,w),slidesInView:xt,slideIndexes:A,slideRegistry:qe,slidesToScroll:Q,target:re,translate:gt(T,t)};return ke}function jn(){let e={},t;function n(l){t=l}function r(l){return e[l]||[]}function c(l){return r(l).forEach(h=>h(t,l)),i}function o(l,h){return e[l]=r(l).concat([h]),i}function s(l,h){return e[l]=r(l).filter(f=>f!==h),i}function a(){e={}}const i={init:n,emit:c,off:s,on:o,clear:a};return i}const bn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function wn(e){function t(o,s){return pt(o,s||{})}function n(o){const s=o.breakpoints||{},a=Se(s).filter(i=>e.matchMedia(i).matches).map(i=>s[i]).reduce((i,l)=>t(i,l),{});return t(o,a)}function r(o){return o.map(s=>Se(s.breakpoints||{})).reduce((s,a)=>s.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function En(e){let t=[];function n(o,s){return t=s.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(o,e)),s.reduce((a,i)=>Object.assign(a,{[i.name]:i}),{})}function r(){t=t.filter(o=>o.destroy())}return{init:n,destroy:r}}function Le(e,t,n){const r=e.ownerDocument,c=r.defaultView,o=wn(c),s=En(o),a=ve(),i=jn(),{mergeOptions:l,optionsAtMedia:h,optionsMediaQueries:f}=o,{on:g,off:S,emit:u}=i,p=T;let x=!1,m,y=l(bn,Le.globalOptions),j=l(y),w=[],D,C,E;function I(){const{container:A,slides:v}=j;C=(Be(A)?e.querySelector(A):A)||e.children[0];const O=Be(v)?C.querySelectorAll(v):v;E=[].slice.call(O||C.children)}function L(A){const v=vn(e,C,E,r,c,A,i);if(A.loop&&!v.slideLooper.canLoop()){const k=Object.assign({},A,{loop:!1});return L(k)}return v}function z(A,v){x||(y=l(y,A),j=h(y),w=v||w,I(),m=L(j),f([y,...w.map(({options:k})=>k)]).forEach(k=>a.add(k,"change",T)),j.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(b),m.eventHandler.init(b),m.resizeHandler.init(b),m.slidesHandler.init(b),m.options.loop&&m.slideLooper.loop(),C.offsetParent&&E.length&&m.dragHandler.init(b),D=s.init(b,w)))}function T(A,v){const k=Q();R(),z(l({startIndex:k},A),v),i.emit("reInit")}function R(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),s.destroy(),a.clear()}function H(){x||(x=!0,a.clear(),R(),i.emit("destroy"),i.clear())}function U(A,v,k){!j.active||x||(m.scrollBody.useBaseFriction().useDuration(v===!0?0:j.duration),m.scrollTo.index(A,k||0))}function G(A){const v=m.index.add(1).get();U(v,A,-1)}function oe(A){const v=m.index.add(-1).get();U(v,A,1)}function te(){return m.index.add(1).get()!==Q()}function K(){return m.index.add(-1).get()!==Q()}function J(){return m.scrollSnapList}function le(){return m.scrollProgress.get(m.offsetLocation.get())}function Q(){return m.index.get()}function ie(){return m.indexPrevious.get()}function ce(){return m.slidesInView.get()}function X(){return m.slidesInView.get(!1)}function ue(){return D}function $(){return m}function P(){return e}function F(){return C}function W(){return E}const b={canScrollNext:te,canScrollPrev:K,containerNode:F,internalEngine:$,destroy:H,off:S,on:g,emit:u,plugins:ue,previousScrollSnap:ie,reInit:p,rootNode:P,scrollNext:G,scrollPrev:oe,scrollProgress:le,scrollSnapList:J,scrollTo:U,selectedScrollSnap:Q,slideNodes:W,slidesInView:ce,slidesNotInView:X};return z(t,n),setTimeout(()=>i.emit("init"),0),b}Le.globalOptions=void 0;function _e(e={},t=[]){const n=N.useRef(e),r=N.useRef(t),[c,o]=N.useState(),[s,a]=N.useState(),i=N.useCallback(()=>{c&&c.reInit(n.current,r.current)},[c]);return N.useEffect(()=>{Me(n.current,e)||(n.current=e,i())},[e,i]),N.useEffect(()=>{Gt(r.current,t)||(r.current=t,i())},[t,i]),N.useEffect(()=>{if(Ut()&&s){Le.globalOptions=_e.globalOptions;const l=Le(s,n.current,r.current);return o(l),()=>l.destroy()}else o(void 0)},[s,o]),[a,c]}_e.globalOptions=void 0;const[In,Nn]=Ct("Carousel component was not found in tree");var Re={root:"m_17884d0f",viewport:"m_a2dae653",container:"m_fcd81474",controls:"m_39bc3463",control:"m_64f58e10",indicators:"m_71ea3ab1",indicator:"m_eae68602",slide:"m_d98df724"};const Cn={},$e=at((e,t)=>{const{classNames:n,className:r,style:c,styles:o,vars:s,mod:a,...i}=lt("CarouselSlide",Cn,e),l=Nn();return d.jsx(ut,{ref:t,mod:[{orientation:l.orientation},a],...l.getStyles("slide",{className:r,style:c,classNames:n,styles:o}),...i})});$e.classes=Re;$e.displayName="@mantine/carousel/CarouselSlide";function Ln({slideGap:e,slideSize:t,selector:n}){const r=Lt(),c=ft({"--carousel-slide-gap":fe(Ce(e)),"--carousel-slide-size":Ne(Ce(t))}),o=Ie(r.breakpoints).reduce((i,l)=>(i[l]||(i[l]={}),typeof e=="object"&&e[l]!==void 0&&(i[l]["--carousel-slide-gap"]=fe(e[l])),typeof t=="object"&&t[l]!==void 0&&(i[l]["--carousel-slide-size"]=fe(t[l])),i),{}),a=Tt(Ie(o),r.breakpoints).filter(i=>Ie(o[i.value]).length>0).map(i=>({query:`(min-width: ${r.breakpoints[i.value]})`,styles:o[i.value]}));return d.jsx(dt,{styles:c,media:a,selector:n})}function it(e){return typeof e=="object"&&e!==null?Ie(e):[]}function Tn(e){return e.sort((t,n)=>Xe(t)-Xe(n))}function kn({slideGap:e,slideSize:t}){const n=Array.from(new Set([...it(e),...it(t)]));return Tn(n)}function An({slideGap:e,slideSize:t,selector:n}){const r=ft({"--carousel-slide-gap":fe(Ce(e)),"--carousel-slide-size":Ne(Ce(t))}),c=kn({slideGap:e,slideSize:t}).reduce((s,a)=>(s[a]||(s[a]={}),typeof e=="object"&&e[a]!==void 0&&(s[a]["--carousel-slide-gap"]=fe(e[a])),typeof t=="object"&&t[a]!==void 0&&(s[a]["--carousel-slide-size"]=fe(t[a])),s),{}),o=Object.keys(c).map(s=>({query:`carousel (min-width: ${s})`,styles:c[s]}));return d.jsx(dt,{styles:r,container:o,selector:n})}function ct({dir:e,orientation:t,direction:n}){return n==="previous"?t==="horizontal"?90*(e==="ltr"?1:-1):-180:t==="horizontal"?90*(e==="ltr"?-1:1):0}const Dn={controlSize:26,controlsOffset:"sm",slideSize:"100%",slideGap:0,orientation:"horizontal",align:"center",slidesToScroll:1,includeGapInSize:!0,draggable:!0,dragFree:!1,loop:!1,speed:10,initialSlide:0,inViewThreshold:0,withControls:!0,withIndicators:!1,skipSnaps:!1,containScroll:"",withKeyboardEvents:!0,type:"media"},On=Bt((e,{height:t,controlSize:n,controlsOffset:r})=>({root:{"--carousel-height":Ne(t),"--carousel-control-size":Ne(n),"--carousel-controls-offset":fe(r)}})),je=at((e,t)=>{const n=lt("Carousel",Dn,e),{classNames:r,className:c,style:o,styles:s,unstyled:a,vars:i,children:l,getEmblaApi:h,onNextSlide:f,onPreviousSlide:g,onSlideChange:S,nextControlProps:u,previousControlProps:p,controlSize:x,controlsOffset:m,slideSize:y,slideGap:j,orientation:w,height:D,align:C,slidesToScroll:E,includeGapInSize:I,draggable:L,dragFree:z,loop:T,speed:R,initialSlide:H,inViewThreshold:U,withControls:G,withIndicators:oe,plugins:te,nextControlIcon:K,previousControlIcon:J,skipSnaps:le,containScroll:Q,withKeyboardEvents:ie,mod:ce,type:X,...ue}=n,$=kt({name:"Carousel",classes:Re,props:n,className:c,style:o,classNames:r,styles:s,unstyled:a,vars:i,varsResolver:On}),P=At(),{dir:F}=Dt(),[W,b]=_e({axis:w==="horizontal"?"x":"y",direction:w==="horizontal"?F:void 0,startIndex:H,loop:T,align:C,slidesToScroll:E,draggable:L,dragFree:z,speed:R,inViewThreshold:U,skipSnaps:le,containScroll:Q},te),[A,v]=N.useState(0),[k,O]=N.useState(0),V=N.useCallback(M=>b&&b.scrollTo(M),[b]),q=N.useCallback(()=>{if(!b)return;const M=b.selectedScrollSnap();v(M),M!==A&&(S==null||S(M))},[b,v,S,A]),Y=N.useCallback(()=>{b==null||b.scrollPrev(),g==null||g()},[b]),ne=N.useCallback(()=>{b==null||b.scrollNext(),f==null||f()},[b]),se=N.useCallback(M=>{ie&&(M.key==="ArrowRight"&&(M.preventDefault(),ne()),M.key==="ArrowLeft"&&(M.preventDefault(),Y()))},[b]);N.useEffect(()=>{if(b)return h==null||h(b),q(),O(b.scrollSnapList().length),b.on("select",q),()=>{b.off("select",q)}},[b,E,q]),N.useEffect(()=>{b&&(b.reInit(),O(b.scrollSnapList().length),v(M=>Ot(M,0,N.Children.toArray(l).length-1)))},[N.Children.toArray(l).length,E]);const re=(b==null?void 0:b.canScrollPrev())||!1,ae=(b==null?void 0:b.canScrollNext())||!1,he=Array(k).fill(0).map((M,Z)=>N.createElement(Oe,{...$("indicator"),key:Z,"data-active":Z===A||void 0,"aria-hidden":!0,tabIndex:-1,onClick:()=>V(Z),"data-orientation":w,onMouseDown:we=>we.preventDefault()}));return d.jsxs(In,{value:{getStyles:$,orientation:w},children:[X==="container"?d.jsx(An,{...n,selector:`.${P}`}):d.jsx(Ln,{...n,selector:`.${P}`}),d.jsxs(ut,{ref:t,...$("root",{className:"responsiveClassName"}),...ue,mod:[{orientation:w,"include-gap-in-size":I},ce],onKeyDownCapture:se,children:[d.jsx("div",{...$("viewport"),ref:W,"data-type":X,children:d.jsx("div",{...$("container",{className:P}),"data-orientation":w,children:l})}),oe&&d.jsx("div",{...$("indicators"),"data-orientation":w,children:he}),G&&d.jsxs("div",{...$("controls"),"data-orientation":w,children:[d.jsx(Oe,{...p,...$("control",{className:p==null?void 0:p.className,style:p==null?void 0:p.style}),onClick:M=>{var Z;Y(),(Z=p==null?void 0:p.onClick)==null||Z.call(p,M)},"data-inactive":!re||void 0,tabIndex:re?0:-1,children:typeof J<"u"?J:d.jsx(Ye,{style:{transform:`rotate(${ct({dir:F,orientation:w,direction:"previous"})}deg)`}})}),d.jsx(Oe,{...$("control",{className:u==null?void 0:u.className,style:u==null?void 0:u.style}),...u,onClick:M=>{var Z;ne(),(Z=u==null?void 0:u.onClick)==null||Z.call(u,M)},"data-inactive":!ae||void 0,tabIndex:ae?0:-1,children:typeof K<"u"?K:d.jsx(Ye,{style:{transform:`rotate(${ct({dir:F,orientation:w,direction:"next"})}deg)`}})})]})]})]})});je.classes=Re;je.displayName="@mantine/carousel/Carousel";je.Slide=$e;function Bn({itemId:e}){const[t,n]=N.useState([]),[r,c]=N.useState(!0),[o,s]=N.useState(null),[a,i]=N.useState([]);N.useEffect(()=>{fetch(`/api/items/${e}`).then(h=>{if(!h.ok)throw new Error(`Status ${h.status}`);return h.json()}).then(h=>{const f=Array.isArray(h.images)?h.images:[];n(f)}).catch(h=>s(h.message)).finally(()=>c(!1))},[e]);const l=h=>{i(f=>[...f,h])};return r?d.jsx(_,{children:"Loading images…"}):o?d.jsxs(_,{color:"red",children:["Error: ",o]}):!t||t.length===0?d.jsx(_,{children:"No images available."}):d.jsx(je,{withControls:!1,height:300,slideSize:"50%",slideGap:0,align:"start",breakpoints:[{maxWidth:"sm",slideSize:"100%"}],children:t.map((h,f)=>d.jsx(je.Slide,{children:d.jsxs("div",{className:"carousel-image-wrapper",children:[!a.includes(f)&&d.jsx("div",{className:"image-skeleton"}),d.jsx("img",{src:h.url,alt:`Slide ${f+1}`,loading:"lazy",onLoad:()=>l(f),style:{width:"100%",height:"100%",objectFit:"cover",opacity:a.includes(f)?1:0,transition:"opacity 0.3s ease",position:"absolute",top:0,left:0}})]})},h.id||f))})}function zn({itemId:e}){return d.jsx("section",{className:"detail-carousel",children:d.jsx(Bn,{itemId:e})})}function Mn({item:e,expanded:t,setExpanded:n}){var o;if(!e)return null;const r=e.description||"",c=r.slice(0,180)+(r.length>180?"…":"");return d.jsxs("section",{className:"detail-info",children:[d.jsx(pe,{order:2,children:e.name}),d.jsx(Ze,{size:"lg",color:e.level==="Easy"?"green":e.level==="Moderate"?"blue":"red",variant:"light",mt:"xs",children:e.level}),((o=e.tags)==null?void 0:o.length)>0&&d.jsx("div",{className:"detail-tags",children:e.tags.map(s=>d.jsx(Ze,{size:"xs",variant:"filled",radius:"sm",className:"detail-tag",children:s},s))}),d.jsxs("div",{className:`detail-description ${t?"expanded":""}`,children:[d.jsx(_,{children:t?r:c}),r.length>180&&d.jsxs("button",{onClick:()=>n(!t),className:"toggle-desc-btn",children:[t?d.jsx(qt,{size:20}):d.jsx($t,{size:20}),d.jsx("span",{children:t?"Show less":"Show more"})]})]})]})}function Fn({boxProducts:e}){return e!=null&&e.length?d.jsxs("section",{className:"detail-box-products",children:[d.jsx(pe,{className:"detail-title",order:3,children:"Box products"}),d.jsx("div",{className:"box-products-list",children:e.map(t=>d.jsxs("div",{className:"box-product-card",children:[d.jsx("img",{src:t.image_url,alt:t.description,className:"box-product-card__img"}),d.jsxs("div",{className:"box-product-card__body",children:[d.jsx(_,{fw:700,children:t.title}),d.jsx(_,{size:"sm",color:"dimmed",mt:"xs",children:t.description})]})]},t.id))})]}):null}function Pn({tutorialUrl:e,poster:t}){return e?d.jsxs("section",{className:"detail-tutorial",children:[d.jsx(pe,{className:"detail-title",order:3,children:"Tutorial preview"}),d.jsx("video",{src:e,controls:!0,poster:t,className:"detail-video",preload:"metadata",width:"100%",children:d.jsx(_,{component:"p",children:"Your browser does not support the video tag."})})]}):null}function Vn({instructions:e}){return e!=null&&e.length?d.jsxs("section",{className:"detail-instructions",children:[d.jsx(pe,{className:"detail-title",order:3,children:"Instructions preview"}),d.jsx("div",{className:"instructions-list",children:e.map((t,n)=>d.jsxs("div",{className:"instruction-step",children:[d.jsxs("span",{className:"instruction-step__number",children:[n+1,"."]}),d.jsxs("div",{className:"instruction-step__body",children:[d.jsx(_,{fw:500,children:t.title}),d.jsx(_,{size:"sm",color:"dimmed",mt:2,children:t.text})]})]},n))})]}):null}function _n({reviews:e=[],showReviews:t,setShowReviews:n}){const r=e.length,c=r===0?0:e.reduce((s,a)=>s+a.rating,0)/r,o=c.toFixed(1).replace(".",",");return d.jsxs("section",{className:"detail-reviews",children:[d.jsx(pe,{className:"detail-title",order:3,children:"Reviews"}),!t&&d.jsx(zt,{withBorder:!0,shadow:"sm",p:"lg",radius:"lg",className:"reviews-summary",mt:"sm",children:d.jsxs("div",{className:"reviews-summary-content",children:[d.jsx(pe,{order:2,children:o}),d.jsx(We,{value:c,readOnly:!0,fractions:10,size:"lg",color:"grape"}),d.jsxs(_,{fw:500,mt:"xs",children:[r," ",r===1?"rating":"ratings"]}),r>0&&d.jsx(et,{size:"sm",radius:"xl",mt:"sm",color:"grape",onClick:()=>n(!0),children:"See reviews ›"})]})}),t&&d.jsxs(d.Fragment,{children:[e.length>0?e.map(s=>d.jsxs("div",{className:"review-card",children:[d.jsxs("div",{className:"review-header",children:[d.jsx(_,{fw:700,children:s.author}),d.jsx(We,{value:s.rating,readOnly:!0,size:"sm",fractions:10,color:"grape"})]}),d.jsx(_,{mt:"xs",children:s.comment}),d.jsx(Mt,{my:"sm"})]},s.id)):d.jsx(_,{children:"No reviews yet."}),d.jsx(et,{variant:"subtle",radius:"xl",size:"xs",onClick:()=>n(!1),children:"‹ Back to summary"})]})]})}function Rn({item:e,handleAddToBasket:t}){return d.jsx("div",{className:"purchase-banner",children:d.jsxs("div",{className:"purchase-banner__content",children:[d.jsxs("div",{className:"purchase-banner__price",children:[d.jsx(_,{fw:500,size:"sm",children:"Price:"}),d.jsxs(_,{fw:900,size:"lg",children:["€",e.price.toFixed(2).replace(".",",")]})]}),d.jsx(Pt,{onClick:t})]})})}function Gn(){var p;const{id:e}=Vt(),t=Number(e);_t();const[n,r]=N.useState(null),[c,o]=N.useState(!0),[s,a]=N.useState(null),[i,l]=N.useState(!1),[h,f]=N.useState(!1),[g,S]=N.useState(0);N.useEffect(()=>{fetch(`/api/item_detail?id=${t}`).then(async x=>{if(!x.ok){const y=await x.text();throw new Error(`Item not found: ${y}`)}const m=x.headers.get("Content-Type");if(!m||!m.includes("application/json")){const y=await x.text();throw new Error(`Unexpected response: ${y}`)}return x.json()}).then(x=>r(x)).catch(x=>a(x.message)).finally(()=>o(!1))},[t]);const u=async()=>{if(n)try{const x=await fetch("/api/basket",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:n.id})}),m=await x.json();if(!x.ok)throw new Error(m.error||"Failed to add to basket");tt.show({title:"Item added to basket",message:`${n.name} has been added.`,color:"grape",autoClose:2e3,withCloseButton:!1}),S(y=>y+1)}catch{tt.show({title:"Error",message:"Could not add item to basket.",color:"red",autoClose:3e3})}};return c?d.jsx(_,{children:"Loading…"}):s?d.jsxs(_,{color:"red",children:["Error: ",s]}):d.jsxs("div",{className:"product-detail",children:[d.jsxs("div",{className:"detail-header-buttons",children:[d.jsx(Rt,{style:{position:"fixed"}}),d.jsx(Ft,{refresh:g})]}),d.jsx(zn,{itemId:t}),d.jsx(Mn,{item:n,expanded:i,setExpanded:l}),d.jsx(Fn,{boxProducts:n.boxProducts}),d.jsx(Pn,{tutorialUrl:n.tutorialUrl,poster:(p=n.images)==null?void 0:p[0]}),d.jsx(Vn,{instructions:n.instructions}),d.jsx(_n,{reviews:n.reviews,showReviews:h,setShowReviews:f}),d.jsx(Rn,{item:n,handleAddToBasket:u})]})}export{Gn as default};
