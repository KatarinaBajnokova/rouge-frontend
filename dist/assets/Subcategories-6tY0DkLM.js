import{J as u,j as e,M as d,n as g,E as m,A as p,O as j}from"./react-BNfDklOQ.js";import{B as x}from"./BasketButton-r1-1MTRa.js";import{B as h}from"./index-Cd1dwsJR.js";import{D as y}from"./mantine-BDZ4NO2A.js";import"./vendor-DRc0kkrK.js";async function F(s){const a=await fetch(`/api/subcategories?categoryId=${s}`);if(!a.ok)throw new Error("Failed to load subcategories");return a.json()}function b(s){return u({queryKey:["subcategories",s],queryFn:()=>F(s),enabled:!!s})}function f({label:s,onClick:a,color:r="#317AFF"}){return e.jsxs("div",{className:"subcategory-item",onClick:a,children:[e.jsxs("div",{className:"item-content",children:[e.jsx("span",{className:"circle-indicator",style:{backgroundColor:r}}),e.jsx("p",{children:s}),e.jsx(d,{size:24,stroke:2})]}),e.jsx(y,{})]})}function S(){const s=g(),{categoryId:a}=m(),{state:r}=p(),t=(r==null?void 0:r.categoryName)||"",c={Formal:"#317AFF",Fun:"#FF4D4F",Everyday:"#FFC107",Seasons:"#4CAF50",Holidays:"#9C27B0",Spotlight:"#FF5722"}[t]||"#888",{data:i=[],isLoading:n,isError:l}=b(a);return n?e.jsx("div",{className:"subcategories-page",children:"Loadingâ€¦"}):l?e.jsx("div",{className:"subcategories-page",children:"Error loading subcategories"}):i.length===0?e.jsx(j,{to:`/categories/${a}/items`,state:{categoryId:a,categoryName:t},replace:!0}):e.jsxs("div",{className:"subcategories-page",children:[e.jsxs("div",{className:"header-wrapper",children:[e.jsx(h,{onClick:()=>s(-1)}),e.jsx("h2",{children:t}),e.jsx(x,{})]}),e.jsx("div",{className:"category-list",children:i.map(o=>e.jsx(f,{label:o.name,color:c,onClick:()=>{s(`/categories/${a}/subcategories/${o.id}/items`,{state:{categoryId:a,categoryName:t,subcategoryId:o.id,subcategoryName:o.name}})}},o.id))})]})}export{S as default};
